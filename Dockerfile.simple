FROM node:18-alpine

WORKDIR /app

# Copiar solo los archivos esenciales
COPY package*.json ./
RUN npm ci --only=production

# Copiar el servidor simple
COPY server-simple.js ./

# Exponer puerto
EXPOSE 8080
ENV PORT=8080
ENV NODE_ENV=production

# Comando para iniciar
CMD ["node", "server-simple.js"] 